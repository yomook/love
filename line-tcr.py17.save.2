# -*- coding: utf-8 -*-

import LINETCR
from LINETCR.lib.curve.ttypes import *
from io import StringIO
from datetime import datetime
import time,random,sys,json,codecs,threading,glob,sys
import re,string,os
import os.path,sys,urllib,shutil,subprocess

cl = LINETCR.LINE()
cl.login(qr=True)
cl.loginResult()

ki = LINETCR.LINE()
ki.login(qr=True)
ki.loginResult()

kk = LINETCR.LINE()
kk.login(qr=True)
kk.loginResult()  

ks = LINETCR.LINE() 
ks.login(qr=True)
ks.loginResult()  

kc = kk 
ka = ks
cl
        
print "login success"
reload(sys)
sys.setdefaultencoding('utf-8')
helpMessage ="""â˜¬ARTHURâ˜¬ SELF BOT
[á´›Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·á´‡Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·á´€Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·á´Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì· Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·á´›Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·á´‡Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·sÌ·Ì·Ì²Ì·Ì·Ì…Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·á´›Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì· Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·Ê™Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·á´Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·á´›Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·]Ì·

â˜¬[Id]: ~Ã·~
â˜¬[Mid]: ~Ã·~
â˜¬[All mid]:
â˜¬[Me]: ~Ã·~
â˜¬[K1/K2/K3/]: "Contact"
â˜¬[K1/K2/K3 fuck:]: "Kick kicker"
â˜¬[Group Id]: "Id Me Group"
â˜¬[TL : "Text"]: "Auto status TL"
â˜¬[Clock :]: "Name Clock"
â˜¬[Up clock]: "Up date Clock"
â˜¬[Name : 'text']: "Name me"
â˜¬[MIC]: "mid"]: "Contact share"
â˜¬[Rejectall]: " invite"]: "à¸¥à¸šà¸„à¹‰à¸²à¸‡à¹€à¸Šà¸´à¸ à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”"
â˜¬[Massage add: "text"]: ~Ã·~
â˜¬[Add confirmasi]: ~Ã·~
â˜¬[Comment set : "Text"]: ~Ã·~
â˜¬[Comment check]: ~Ã·~
â˜¬[Clock: on]: "Clock name on"
â˜¬[Clock: off]: "Clock name off"
â˜¬[Ban]: "Add blacklist"
â˜¬[Unban]: "Dalate blacklist"
â˜¬[Banlist]: "Check blacklist"
â˜¬[Tagall]         
â˜¬[Kicker join]
â˜¬[Setpoint]
â˜¬[Setcheck]
â˜¬[Kick] 

[â˜¬] (SET) COMMAND [â˜¬]

â˜¬[Contact: on/off]: 
â˜¬[Auto join: on/off]: 
â˜¬[Cancel Invite: 1 on/off]:
â˜¬[Auto share: on/off]:
â˜¬[Auto leave: on/off]: 
â˜¬[Comment: on/off]: 
â˜¬[Auto add: on/off]: 
â˜¬[Auto like: on/off]: 
	
[â˜¬] COMMAND IN THE GROUP [â˜¬]

â˜¬[Ban " @Tag]: 
â˜¬[Unban " @Tag]: 
â˜¬[Urlon]: "Open urL"
â˜¬[Urloff]: "Closed urL"
â˜¬[Url]: " Check urL room"
â˜¬[Ginfo]: "~Ã·~ data room"
â˜¬[Invite: "mid"]: 
â˜¬[Say: "Text"]: "Kicker talk"
â˜¬[Cancel]: "Cancel invite"
â˜¬[Gn: "name"]: "Change name Group"
â˜¬[NK: "Name"]: ~Ã·~
â˜¬[Dead]: "Kick Blacklist"
=============================
line.me/ti/p/~art-bot-cyber01
=============================
"""
helpMessage2 ="""[á´›Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·á´‡Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·á´€Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·á´Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì· Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·á´›Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·á´‡Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·sÌ·Ì·Ì²Ì·Ì·Ì…Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·á´›Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì· Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·Ê™Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·á´Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·á´›Ì·Ì·Ì²Ì·Ì·Ì…Ì·Ì·]Ì·

â˜¬[Æ¤Æ¦Æ Æ¬Ð„Æ‡Æ¬: Æ Æ/Æ Æ‘Æ‘]: 
â˜¬[ÆÔ¼Æ Æ‡Æ˜ Æ²Æ¦Ô¼: Æ Æ/Æ Æ‘Æ‘]: 
â˜¬[ÆÆ›MÐ„Ô¼Æ Æ‡Æ˜: Æ Æ/Æ Æ‘Æ‘]: 
â˜¬[ÆÔ¼Æ Æ‡Æ˜Æ–ÆÆ”Æ–Æ¬Ð„: Æ Æ/Æ Æ‘Æ‘]:  
======================	
"""
KAC = [cl,ki,kk,ks,kc,ka]
mid = cl.getProfile().mid
Amid = ki.getProfile().mid
kimid = kk.getProfile().mid
ki2mid = ks.getProfile().mid
Cmid = kc.getProfile().mid
Emid = ka.getProfile().mid
admin = ["ud7953614d9805056dea5ea058874ce06"]
me = cl.getProfile().mid
bot1 = cl.getProfile().mid
main = cl.getProfile().mid
kicker1 = ki.getProfile().mid
bots = me + kicker1
protectname = []
protecturl = []
protection = []
autocancel = {}
autoinvite = []
autoleaveroom = []

admins = ["ub736c5b1794f5aa30026d162d07ce5e6"]
Rx5 = ["u406133ad4d3fbe50a2f4d51ea081d050"]
Rx4 = ["u406133ad4d3fbe50a2f4d51ea081d050"]
Rx3 = ["u406133ad4d3fbe50a2f4d51ea081d050"]
Rx2 = ["ua51ba06b0dd18c0bfe2cc6caa3458202"]
Rx1 = ["uc7f32bb28dc009916d40af87c9910ddc"]
Administrator = admins + Rx5 + Rx4 + Rx3 + Rx2 + Rx1
AS = Rx2 + Rx1 + Rx3 + Rx4 + Rx5
adminsA = admins + Rx3 + Rx5

omikuzi = ["å¤§å‰","ä¸­å‰","å°å‰","æœ«å‰","å¤§å‡¶","å‡„1¤7"]

wait = {
    'contact':False,
    'autoJoin':False,
    'autoCancel':{"on":True,"members":1},
    'leaveRoom':False,
    'timeline':False,
    'autoAdd':False,
    'message':"Thank For Add Me",
    "lang":"JP",
    "comment":"Auto like By.âœ¨â˜¬ARTâ˜¬",
    "likeOn":True,
    "commentOn":True,
    "commentBlack":{},
    "wblack":False,
    "dblack":False,
    "clock":False,
    "blacklist":{}, 
    "wblacklist":False,
    "pnharfbot":{},
    "pname":{},
    "pro_name":{},    
    "dblacklist":False
}

wait2 = {
	'readMember':{},
	'readPoint':{},
	'ROM':{},
	'setTime':{}
    }
	
setTime = {}
setTime = wait2["setTime"]

res = {
    'num':{},
    'us':{},
    'au':{},
}

def Cmd(string, commands): #/XXX, >XXX, ;XXX, ^XXX, %XXX, $XXX...
    tex = [""]
    for texX in tex:
        for command in commands:
            if string ==texX + command:
                return True
    return False
    
def sendMessage(to, text, contentMetadata={}, contentType=0):
    mes = Message()
    mes.to, mes.from_ = to, profile.mid
    mes.text = text
    mes.contentType, mes.contentMetadata = contentType, contentMetadata
    if to not in messageReq:
        messageReq[to] = -1
    messageReq[to] += 1
         
def bot(op):
    try:
        if op.type == 0:
            return
        if op.type == 5:
            if wait["autoAdd"] == True:
                cl.findAndAddContactsByMid(op.param1)
                if (wait["message"] in [""," ","\n",None]):
                    pass
                else:
                    cl.sendText(op.param1,str(wait["message"]))
        if op.type == 13:
            if mid in op.param3:
                G = cl.getGroup(op.param1)
                if wait["autoJoin"] == True:
                    if wait["autoCancel"]["on"] == True:
                        if len(G.members) <= wait["autoCancel"]["members"]:
                            cl.rejectGroupInvitation(op.param1)
                        else:
                            cl.acceptGroupInvitation(op.param1)
                    else:
                        cl.acceptGroupInvitation(op.param1)
                elif wait["autoCancel"]["on"] == True:
                    if len(G.members) <= wait["autoCancel"]["members"]:
                        cl.rejectGroupInvitation(op.param1)
            else:
                Inviter = op.param3.replace("",',')
                InviterX = Inviter.split(",")
                matched_list = []
                for tag in wait["blacklist"]:
                    matched_list+=filter(lambda str: str == tag, InviterX)
                if matched_list == []:
                    pass
                else:
                    cl.cancelGroupInvitation(op.param1, matched_list)
                    kk.cancelGroupInvitation(op.param1, matched_list)
                    ks.cancelGroupInvitation(op.param1, matched_list)
                    
        if op.type == 17:
            if mid in op.param3:
                    group = cl.getGroup(msg.to)
                    gMembMids = [contact.mid for contact in group.members]
                    matched_list = []
                    for tag in wait["blacklist"]:
                        matched_list+=filter(lambda str: str == tag, gMembMids)
                    if matched_list == []:
                        cl.sendText(msg.to,"There was no blacklist user")
                        return
                    for jj in matched_list:
                        cl.kickoutFromGroup(msg.to,[jj])
                    cl.sendText(msg.to,"Blacklist user flushing is complete")

        if op.type == 11:
            if op.param3 == '1':
                if op.param1 in wait['pname']:
                    try:
                        G = cl.getGroup(op.param1)
                    except:
                        try:
                            G = ki.getGroup(op.param1)
                        except:
                            try:
                                G = kk.getGroup(op.param1)
                            except:
                                try:
                                    G = ks.getGroup(op.param1)
                                except:
                                    try:
                                        G = ki.getGroup(op.param1)
				    except:
					try:
          r Add Me",
    "lang":"JP",
    "comment":"Auto like By.âœ¨â˜¬ARTâ˜¬",
    "likeOn":True,
    "commentOn":True,
    "commentBlack":{},
    "wblack":False,
    "dblack":False,
    "clock":False,
    "blacklist":{}, 
    "wblacklist":False,
    "pnharfbot":{},
    "pname":{},
    "pro_name":{},    
    "dblacklist":False
}

wait2 = {
	'readMember':{},
	'readPoint':{},
	'ROM':{},
	'setTime':{}
    }
	
setTime = {}
setTime = wait2["setTime"]

res = {
    'num':{},
    'us':{},
    'au':{},
}

def Cmd(string, commands): #/XXX, >XXX, ;XXX, ^XXX, %XXX, $XXX...
    tex = [""]
    for texX in tex:
        for command in commands:
            if string ==texX + command:
                return True
    return False
    
def sendMessage(to, text, contentMetadata={}, contentType=0):
    mes = Message()
    mes.to, mes.from_ = to, profile.mid
    mes.text = text
    mes.contentType, mes.contentMetadata = contentType, contentMetadata
    if to not in messageReq:
        messageReq[to] = -1
    messageReq[to] += 1
         
def bot(op):
    try:
        if op.type == 0:
            return
        if op.type == 5:
            if wait["autoAdd"] == True:
                cl.findAndAddContactsByMid(op.param1)
                if (wait["message"] in [""," ","\n",None]):
                    pass
                else:
                    cl.sendText(op.param1,str(wait["message"]))
        if op.type == 13:
            if mid in op.param3:
                G = cl.getGroup(op.param1)
                if wait["autoJoin"] == True:
                    if wait["autoCancel"]["on"] == True:
                        if len(G.members) <= wait["autoCancel"]["members"]:
                            cl.rejectGroupInvitation(op.param1)
                        else:
                            cl.acceptGroupInvitation(op.param1)
                    else:
                        cl.acceptGroupInvitation(op.param1)
                elif wait["autoCancel"]["on"] == True:
                    if len(G.members) <= wait["autoCancel"]["members"]:
                        cl.rejectGroupInvitation(op.param1)
            else:
                Inviter = op.param3.replace("",',')
                InviterX = Inviter.split(",")
                matched_list = []
                for tag in wait["blacklist"]:
                    matched_list+=filter(lambda str: str == tag, InviterX)
                if matched_list == []:
                    pass
                else:
                    cl.cancelGroupInvitation(op.param1, matched_list)
                    kk.cancelGroupInvitation(op.param1, matched_list)
                    ks.cancelGroupInvitation(op.param1, matched_list)
                    
        if op.type == 17:
            if mid in op.param3:
                    group = cl.getGroup(msg.to)
                    gMembMids = [contact.mid for contact in group.members]
                    matched_list = []
                    for tag in wait["blacklist"]:
                        matched_list+=filter(lambda str: str == tag, gMembMids)
                    if matched_list == []:
                        cl.sendText(msg.to,"There was no blacklist user")
                        return
                    for jj in matched_list:
                        cl.kickoutFromGroup(msg.to,[jj])
                    cl.sendText(msg.to,"Blacklist user flushing is complete")

        if op.type == 11:
            if op.param3 == '1':
                if op.param1 in wait['pname']:
                    try:
                        G = cl.getGroup(op.param1)
                    except:
                        try:
                            G = ki.getGroup(op.param1)
                        except:
                            try:
                                G = kk.getGroup(op.param1)
                            except:
                                try:
                                    G = ks.getGroup(op.param1)
                                except:
                                    try:
                                        G = ki.getGroup(op.param1)
				    except:
					try:
          